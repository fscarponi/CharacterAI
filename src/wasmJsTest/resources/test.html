<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Telegram WebApp Tests</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <div id="mocha"></div>
    <script src="https://unpkg.com/mocha/mocha.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/mocha/mocha.css" />
    <script>
        mocha.setup('bdd');
        // Mock Telegram WebApp API for testing
        window.Telegram = {
            WebApp: {
                colorScheme: 'dark',
                themeParams: {
                    bg_color: '#000000',
                    text_color: '#FFFFFF'
                },
                initDataUnsafe: {
                    user: {
                        id: 123456789,
                        first_name: 'Test',
                        last_name: 'User',
                        username: 'testuser',
                        photo_url: 'https://example.com/photo.jpg'
                    }
                },
                ready: function() {},
                close: function() {},
                setBackgroundColor: function(color) {},
                setHeaderColor: function(color) {}
            }
        };
    </script>
    <script src="CharacterAI-wasmJs-test.js"></script>
    <script>
        mocha.run();
    </script>
</body>
</html>